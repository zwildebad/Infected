<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <title>Infected</title>
    <link href="static/game.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.16.2/dist/phaser.min.js"></script>
    <!--<script src="static/game.js"></script>-->
</head>


<body>


<script>

    var config = {
        type: Phaser.AUTO,
        width: window.innerWidth,
        height: window.innerHeight,
        scene: {
            preload: preload,
            create: create
        }
    };

    var game = new Phaser.Game(config);

    var human;

    var zombie;

    var background;

    var exitButton;

    function preload ()
    {
        this.load.setBaseURL('http://127.0.0.1:5000/templates');

        this.load.image('background1', 'assets\\backgrounds\\background1');
        this.load.image('human', 'assets\\sprites\\human');
        this.load.image('zombie', 'assets\\sprites\\zombie');
        this.load.image('exitButton', 'assets\\ui\\ExitButton');  //TODO onclick send ajax request to server with {"game_id": game_id}
    }

    function create ()
    {
        background = this.add.image(window.innerWidth / 2, window.innerHeight / 2, 'background1');
        background.setDisplaySize(window.innerWidth, window.innerHeight);

        human = this.add.sprite(window.innerWidth / 2, window.innerHeight / 2, 'human');
        human.angle = 270;

        zombie = this.add.sprite(window.innerWidth / 4, window.innerHeight / 2, 'zombie');
        zombie.angle = 270;

        exitButton = this.add.sprite(60, 50, 'exitButton');
        exitButton.setDisplaySize(window.innerWidth / 16, window.innerHeight / 10);
        exitButton.inputEnabled = true;
        exitButton.addListener(onmousedown, listener);
    }

    function listener()
    {
        console.log("It worked!");
    }

</script>


</body>


</html>